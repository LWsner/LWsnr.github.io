{{ define "main" }}
<div class="container">
    <header class="section-header">
        <h1>{{ .Title }}</h1>
        {{ if .Content }}
        <div class="section-description">
            {{ .Content }}
        </div>
        {{ end }}
    </header>

    <div class="hobbies-list">
        {{ range $index, $hobby := .Pages }}
        {{ $isEven := eq (mod $index 2) 0 }}
        <article class="hobby-item {{ if $isEven }}image-left{{ else }}image-right{{ end }}">
            {{ if .Params.slideshow }}
            <div class="hobby-image">
                <div class="image-slideshow" style="--slide-count: {{ len .Params.slideshow }};">
                    {{ range $i, $img := .Params.slideshow }}
                    <img src="{{ $img }}" alt="{{ $.Params.image_alt | default $.Title }}" class="slideshow-image clickable-image" style="animation-delay: {{ mul $i 3 }}s;">
                    {{ end }}
                </div>
            </div>
            {{ else if .Params.image }}
            <div class="hobby-image">
                {{ if strings.HasSuffix .Params.image ".mp4" }}
                <video controls class="clickable-image">
                    <source src="{{ .Params.image }}" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                {{ else }}
                <img src="{{ .Params.image }}" alt="{{ .Params.image_alt | default .Title }}" class="clickable-image">
                {{ end }}
            </div>
            {{ end }}
            <div class="hobby-content">
                <h2 class="hobby-title">{{ .Title }}</h2>
                <div class="hobby-full-content">{{ .Content }}</div>
            </div>
        </article>
        {{ else }}
        <p class="no-content">No hobbies listed yet.</p>
        {{ end }}
    </div>
</div>
{{ end }}